<!DOCTYPE html>
<html lang="sr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Riznica - Trofeji</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="ad-overlay"><div class="ad-content"><div class="ad-timer-badge">Preostalo: <span id="ad-countdown">5</span>s</div><button id="ad-close" class="ad-close-btn">âœ•</button><div class="ad-spinner"></div><div class="ad-text">SIMULACIJA REKLAME...</div><p style="color:#aaa; font-size:0.8rem;">(Ovde bi iÅ¡ao Google AdMob video)</p></div></div>
    <div id="reward-modal"><div class="reward-card"><div class="reward-icon">ğŸ’°</div><div class="reward-title">NAGRADA!</div><div class="reward-msg">UspeÅ¡no ste odgledali reklamu.<span class="reward-amount">+500 DUKATA</span></div><button class="btn-claim" onclick="closeRewardModal()">HVALA</button></div></div>

    <button class="back-btn" onclick="window.location.href='index.html'">â†</button>
    <div class="header">
        <div class="balance-group">
            <button class="ad-btn-small" onclick="watchAdForMoney()"><span>ğŸ“º +500</span></button>
            <div class="balance-display">ğŸ’° <span id="balance">0</span></div>
        </div>
    </div>
    <div class="nav-tabs">
        <button class="tab-btn active">TROFEJI ğŸ†</button>
        <button class="tab-btn" onclick="window.location.href='kockice.html'">KOCKICE ğŸ²</button>
        <button class="tab-btn" onclick="window.location.href='efekti.html'">EFEKTI âœ¨</button>
    </div>
    <div id="grid" class="content-area"></div>

    <script>
        (function() {
            const savedTheme = localStorage.getItem('yamb_theme') || 'dark';
            if (savedTheme === 'light') document.body.classList.add('light-theme');
            else if (savedTheme === 'medium') document.body.classList.add('medium-theme');
            else if (savedTheme === 'winter') document.body.classList.add('winter-theme');
        })();

        const ACHIEVEMENTS = [
            { id: 'first_play', icon: 'ğŸ£', title: 'Prvo Bacanje', desc: 'ZavrÅ¡i prvu partiju.', reward: 500 },
            { id: 'apprentice', icon: 'ğŸ”¨', title: 'Å egrt', desc: 'Odigraj 10 partija.', reward: 1000 },
            { id: 'kafana', icon: 'ğŸ»', title: 'Kafanski Sto', desc: 'Odigraj partiju u "2 IgraÄa" modu.', reward: 500 },
            { id: 'score_1000', icon: 'ğŸ‘‘', title: 'Vojvoda', desc: 'Ostvari rezultat preko 1000.', reward: 2500 },
            { id: 'grandmaster', icon: 'ğŸ©', title: 'Velemajstor', desc: 'Ostvari rezultat preko 1250.', reward: 5000 },
            { id: 'legend', icon: 'ğŸŒŸ', title: 'Legenda', desc: 'Ostvari rezultat preko 2000.', reward: 7500 },
            { id: 'mythic', icon: 'ğŸ‰', title: 'Mitski IgraÄ', desc: 'Ostvari rezultat preko 2500.', reward: 15000 },
            { id: 'godlike', icon: 'âš¡', title: 'BoÅ¾anstvo', desc: 'Ostvari neverovatnih 3000+ poena!', reward: 30000 },
            { id: 'surgeon', icon: 'ğŸ˜·', title: 'Hirurg', desc: 'Popuni celu RuÄno kolonu bez nule.', reward: 3000 },
            { id: 'prophet', icon: 'ğŸ”®', title: 'Prorok', desc: 'Pogodi 3 Najave zaredom.', reward: 1500 },
            { id: 'sniper', icon: 'ğŸ¯', title: 'Snajper', desc: 'Pogodi Yamb u Najavi.', reward: 2500 },
            { id: 'math', icon: 'ğŸ“', title: 'MatematiÄar', desc: 'TaÄno 63 u Zbiru 1.', reward: 1000 },
            { id: 'sveti_ilija', icon: 'âš¡', title: 'Sveti Ilija', desc: 'Yamb iz prvog bacanja!', reward: 10000 },
            { id: 'hazard', icon: 'âš ï¸', title: 'Hazarder', desc: 'UpiÅ¡i Yamb u kolonu RuÄno.', reward: 3000 },
            { id: 'firecracker', icon: 'ğŸ§¨', title: 'Petarda', desc: 'UpiÅ¡i svih 5 Yambova (bez nule).', reward: 4000 },
            { id: 'concrete', icon: 'ğŸ§±', title: 'Armirani Beton', desc: 'Popuni sve Kente.', reward: 2500 },
            { id: 'perfectionist', icon: 'âœ¨', title: 'Perfekcionista', desc: 'Bonus (Zbir 1) u svim kolonama.', reward: 3500 },
            { id: 'miner', icon: 'â›ï¸', title: 'Rudar', desc: 'Zbir 2 (Max-Min) veÄ‡i od 60.', reward: 2000 },
            { id: 'immortal', icon: 'ğŸ›¡ï¸', title: 'NeuniÅ¡tiv', desc: 'ZavrÅ¡i partiju bez ijedne nule (precrtavanja).', reward: 10000 },
            { id: 'ai_killer', icon: 'ğŸ¤–', title: 'Nadmudrio MaÅ¡inu', desc: 'Pobedi AI protivnika.', reward: 5000 },
            { id: 'potato', icon: 'ğŸ¥”', title: 'KrompiruÅ¡a', desc: 'Precrtao si Yamb (0).', reward: 500 },
            { id: 'minimal', icon: 'ğŸ“‰', title: 'Minimalac', desc: 'Min kolona < 7.', reward: 2000 },
            { id: 'achilles', icon: 'ğŸ›¡ï¸', title: 'Ahilova Peta', desc: 'Ceo list pun, samo Yamb nula.', reward: 5000 },
            { id: 'close_call', icon: 'ğŸ¤', title: 'Za Dlaku', desc: 'ZavrÅ¡i sa razlikom manjom od 5 poena.', reward: 1000 },
            { id: 'night_owl', icon: 'ğŸ¦‰', title: 'NoÄ‡na Ptica', desc: 'ZavrÅ¡i partiju izmeÄ‘u 03-05h.', reward: 1000 },
            { id: 'spite', icon: 'ğŸ˜¤', title: 'Inat', desc: 'ZavrÅ¡i partiju iako gubiÅ¡ 200+ razlike.', reward: 1000 },
            { id: 'veteran', icon: 'ğŸ–ï¸', title: 'Veteran', desc: 'Odigraj 50 partija.', reward: 3000 }
        ];

        let unlockedItems = JSON.parse(localStorage.getItem('yamb_unlocked')) || ['first_play', 'default', 'confetti'];
        let balance = parseInt(localStorage.getItem('yamb_dukati')) || 0;
        document.getElementById('balance').innerText = balance;
        const grid = document.getElementById('grid');

        function render() {
            grid.innerHTML = '';
            ACHIEVEMENTS.forEach(item => {
                const isUnlocked = unlockedItems.includes(item.id);
                const card = document.createElement('div');
                card.className = `card ${isUnlocked ? 'unlocked' : 'locked'}`;
                card.innerHTML = `
                    <div class="icon">${item.icon}</div>
                    <div class="title">${item.title}</div>
                    <div class="desc">${isUnlocked ? item.desc : '??? (ZakljuÄano)'}</div>
                    <div class="status ${isUnlocked ? 'status-unlocked' : 'status-locked'}">
                        ${isUnlocked ? 'OSVOJENO' : `Nagrada: ${item.reward}`}
                    </div>
                `;
                grid.appendChild(card);
            });
        }
        render();

        function watchAdForMoney() {
            document.querySelector('.ad-text').innerText = "NAGRADA SE UÄŒITAVA...";
            simulateAd(() => {
                balance += 500;
                localStorage.setItem('yamb_dukati', balance);
                document.getElementById('balance').innerText = balance;
                showRewardModal();
            });
        }
        function simulateAd(callback) {
            const overlay = document.getElementById('ad-overlay');
            const counter = document.getElementById('ad-countdown');
            const closeBtn = document.getElementById('ad-close');
            let timeLeft = 5; 
            counter.innerText = timeLeft;
            overlay.style.display = 'flex';
            closeBtn.style.display = 'none';
            const interval = setInterval(() => {
                timeLeft--;
                counter.innerText = timeLeft;
                if (timeLeft <= 0) {
                    clearInterval(interval);
                    closeBtn.style.display = 'flex'; 
                }
            }, 1000);
            closeBtn.onclick = () => {
                overlay.style.display = 'none';
                if(callback) callback();
            };
        }
        function showRewardModal() { document.getElementById('reward-modal').style.display = 'flex'; }
        function closeRewardModal() { document.getElementById('reward-modal').style.display = 'none'; }
    </script>
</body>
</html>